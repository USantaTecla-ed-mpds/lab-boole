@startuml connect4--instructions

skinparam linetype ortho
skinparam nodesep 180
skinparam ranksep 90
!theme mars

title Connect4 Instructions


state _InitGame <<choice>>
state GamePrepared
state _CheckPlayerInsertion <<choice>>
state CheckerInserted
state _Check4InLine <<choice>>
state TurnChanged
state 4CheckersInLine
state TiedGame


[*]                     -d-> _InitGame
_InitGame               --r-> GamePrepared : clear board \n / select first player
GamePrepared            ---> _CheckPlayerInsertion : start game \n / first player check \n possible insertion
_CheckPlayerInsertion   --r-> CheckerInserted : [ if possible insertion ] \n / insert checker
CheckerInserted         ---> _Check4InLine : check \n 4 checkers in line

_Check4InLine           --l-> TurnChanged : [ else ] \n / change turn
TurnChanged             --u-> _CheckPlayerInsertion : check \n possible insertion
_CheckPlayerInsertion   --l-> TiedGame : [ else ]
TiedGame                --u-> _InitGame : reset game

_Check4InLine           --r-> 4CheckersInLine : [ if 4 checkers in line ]
4CheckersInLine         --d-> [*] : end game \n / player wins


@enduml